function initCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,scale=canvas.width>2500?2:1,ctx.fillStyle=color;const a=scale*spacing,t=scale*radius,n=Math.min(Math.round(canvas.width/a),30),c=Math.min(Math.round(canvas.height/a),30),s=(canvas.width-a*n+a)/2-t,e=(canvas.height-a*c+a)/2-t;dots=[];for(var r=0;r<n;r++)for(var i=0;i<c;i++){let t=a*r+s,n=a*i+e;dots.push([t,n])}}function drawCircle(a,t,n){ctx.moveTo(a,t),ctx.arc(a,t,n,0,2*Math.PI,!0)}function update(){setTimeout(()=>{requestAnimationFrame(update)},1e3/fps),ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath();for(const a of dots){const[t,n]=calcOffset(a[0],a[1],cursor.x,cursor.y);drawCircle(t,n,radius*scale)}ctx.fill()}function calcOffset(a,t,n,c){if(isNaN(cursor.x)||isNaN(cursor.y))return[a,t];const s=Math.atan2(c-t,n-a),e=Math.hypot(n-a,c-t),r=e*(.4*Math.pow(1.4,-Math.pow(e/(80*scale),2))-.01*scale);return[a+Math.cos(s)*r,t+Math.sin(s)*r]}const canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),cursor={x:NaN,y:NaN};window.addEventListener("pointermove",a=>{cursor.x=a.pageX,cursor.y=a.pageY});var spacing=80,radius=2;const color="rgb(117, 33, 20)";var scale=1,dots=new Array;window.addEventListener("resize",initCanvas);const fps=60;initCanvas(),update();