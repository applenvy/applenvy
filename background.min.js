function initCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,scale=canvas.width>2500?2:1,ctx.fillStyle=color;const a=scale*spacing,t=scale*radius,n=Math.min(Math.round(canvas.width/a),30),e=Math.min(Math.round(canvas.height/a),30),r=(canvas.width-a*n+a)/2-t,s=(canvas.height-a*e+a)/2-t;dots=[];for(var c=0;c<n;c++)for(var o=0;o<e;o++){let t=a*c+r,n=a*o+s;dots.push([t,n])}}function drawCircle(a,t,n){ctx.moveTo(a,t),ctx.arc(a,t,n,0,2*Math.PI,!0)}function startUpdate(a){fpsInterval=1e3/a,then=performance.now(),update()}function update(){requestAnimationFrame(update),now=performance.now(),(elapsed=now-then)>fpsInterval&&(then=now-elapsed%fpsInterval,drawFrame())}function drawFrame(){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath();for(const a of dots){const[t,n]=calcOffset(a[0],a[1],cursor.x,cursor.y);drawCircle(t,n,radius*scale)}ctx.fill()}function calcOffset(a,t,n,e){if(isNaN(cursor.x)||isNaN(cursor.y))return[a,t];const r=Math.atan2(e-t,n-a),s=Math.hypot(n-a,e-t),c=s*(.4*Math.pow(1.4,-Math.pow(s/(80*scale),2))-.01*scale);return[a+Math.cos(r)*c,t+Math.sin(r)*c]}const canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),cursor={x:NaN,y:NaN};window.addEventListener("pointermove",a=>{cursor.x=a.pageX,cursor.y=a.pageY});var spacing=80,radius=2;const color="rgb(117, 33, 20)";var now,then,elapsed,fpsInterval,scale=1,dots=new Array;window.addEventListener("resize",initCanvas),initCanvas(),startUpdate(60);